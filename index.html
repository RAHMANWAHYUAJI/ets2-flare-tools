<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ETS2 Flare Blink Editor & Preview</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="favicon.svg">
    
    <!-- Meta tags for SEO and social media -->
    <meta name="description" content="ETS2 Flare Tools - Advanced flare editor for Euro Truck Simulator 2 with real-time preview and comprehensive editing features.">
    <meta name="keywords" content="ETS2, Euro Truck Simulator 2, flare, editor, tools, modding, blink pattern, vehicle flare">
    <meta name="author" content="Rahman Wahyu Aji">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://rahmanwahyuaji.github.io/ets2-flare-tools/">
    <meta property="og:title" content="ETS2 Flare Tools - Advanced Flare Editor">
    <meta property="og:description" content="Advanced flare editor for Euro Truck Simulator 2 with real-time preview and comprehensive editing features.">
    <meta property="og:image" content="https://rahmanwahyuaji.github.io/ets2-flare-tools/favicon.svg">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://rahmanwahyuaji.github.io/ets2-flare-tools/">
    <meta property="twitter:title" content="ETS2 Flare Tools - Advanced Flare Editor">
    <meta property="twitter:description" content="Advanced flare editor for Euro Truck Simulator 2 with real-time preview and comprehensive editing features.">
    <meta property="twitter:image" content="https://rahmanwahyuaji.github.io/ets2-flare-tools/favicon.svg">
    
    <link rel="stylesheet" href="assets/style.css">
</head>
<body data-theme="dark">
    <div class="container">
        <div class="header">
            <div class="header-content">
                <h1>🚨 ETS2 Flare Editor & Preview</h1>
                <p>Editor flare dengan preview langsung</p>
                <small style="opacity: 0.7;">💡 Tip: Gunakan Chrome/Edge terbaru untuk fitur Save As yang optimal</small>
                


            </div>
            <button class="theme-toggle">
                🌙 Dark Theme
            </button>
        </div>


        <div class="upload-section">
            <div class="file-controls">
                <div class="file-input-wrapper">
                    <input type="file" id="fileInput" class="file-input" accept=".sii">
                    <button class="file-input-button">
                        📁 Load .sii File
                    </button>
                </div>
                <div class="save-buttons">
                    <button class="control-button" onclick="showAddFlareModal()">
                        ➕  ADD Flare
                    </button>
                    <button class="control-button primary" id="saveButton" disabled>
                        💾 Simpan File
                    </button>
                </div>
            </div>
        </div>

        <div id="flareSection" class="flare-section">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2 style="color: var(--accent-primary); margin: 0;">🔧 Flare Configuration</h2>
                <div id="currentFileName" style="color: var(--text-secondary); font-size: 14px; opacity: 0.8;">
                    <!-- File name will be displayed here -->
                </div>
            </div>
            <div id="flareContainer"></div>
        </div>

        <!-- Add Flare Modal -->
        <div id="addFlareModal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Add New Flare</h3>
                    <button class="modal-close" onclick="closeAddFlareModal()">✕</button>
                </div>
                <div class="modal-body">
                    <div class="editor-grid">
                        <div class="editor-field">
                            <label class="editor-label">Flare Type</label>
                            <select id="newFlareType" class="editor-select">
                                <option value="flare_blink">flare_blink (Blinking Pattern)</option>
                                <option value="flare_vehicle">flare_vehicle (Static Vehicle)</option>
                            </select>
                        </div>
                        <div class="editor-field">
                            <label class="editor-label">Flare Name</label>
                            <input type="text" id="newFlareName" class="editor-input" placeholder="e.g., flare.vehicle.front.left">
                        </div>
                    </div>
                    <p class="modal-note">✨ Other properties can be edited after the flare is created</p>
                </div>
                <div class="modal-footer">
                    <button class="control-button" type="button" onclick="event.preventDefault(); editor.createNewFlare();">Create Flare</button>
                    <button class="control-button warning" type="button" onclick="closeAddFlareModal()">Cancel</button>
                </div>
            </div>
        </div>

        <!-- Custom Alert Modal -->
        <div id="alertModal" class="alert-modal">
            <div class="alert-content">
                <div class="alert-header">
                    <span id="alertIcon" class="alert-icon">⚠️</span>
                    <span id="alertTitle" class="alert-title">Alert</span>
                </div>
                <div id="alertMessage" class="alert-message">
                    Message content goes here
                </div>
                <div class="alert-footer">
                    <button id="alertButton" class="alert-button" onclick="closeAlert()">OK</button>
                </div>
            </div>
        </div>

        <!-- Donation Section -->
        <div class="donation-section" style="background: rgba(255,255,255,0.07); border-radius: 15px; padding: 25px; margin: 25px 0; text-align: center; border: 1px solid rgba(255,255,255,0.15);">
            <h4 style="color: #FFD700; margin-bottom: 10px;">☕ Dukung Pengembangan</h4>
            <p style="opacity: 0.9; margin-bottom: 15px; font-size: 14px;">Jika tools ini membantu Anda, pertimbangkan untuk mendukung pengembangan lebih lanjut</p>
            <div class="donation-buttons" style="display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; margin-top: 15px;">
                <a href="https://paypal.me/rwakaroseri" target="_blank" class="donation-btn" style="display: inline-flex; align-items: center; gap: 8px; padding: 12px 20px; background: linear-gradient(45deg, #00457C, #0066CC); color: white; text-decoration: none; border-radius: 25px; font-weight: 600; border: 2px solid rgba(255,255,255,0.2); min-width: 150px; justify-content: center; transition: all 0.3s ease;">
                    <span>💳</span>
                    <span>PayPal</span>
                </a>
                <a href="#" onclick="showDanaInfo(); return false;" class="donation-btn dana" style="display: inline-flex; align-items: center; gap: 8px; padding: 12px 20px; background: linear-gradient(45deg, #118EEA, #1BA0F2); color: white; text-decoration: none; border-radius: 25px; font-weight: 600; border: 2px solid rgba(255,255,255,0.2); min-width: 150px; justify-content: center; transition: all 0.3s ease;">
                    <span>💰</span>
                    <span>Dana</span>
                </a>
            </div>
        </div>

        <!-- Sosial Media Section -->

        <div class="footer">
            <p>ETS2 Flare Editor v2.1 | Copyright rw_aji</p>
            <a href="https://www.instagram.com/rw_aji/?hl=id" target="_blank" style="display: inline-flex; align-items: center; gap: 3px; padding: 5px 8px; background: linear-gradient(45deg, #E1306C, #F77737); color: white; text-decoration: none; border-radius: 8px; font-weight: 500; border: 1px solid rgba(255,255,255,0.10); min-width: 50px; justify-content: center; transition: all 0.3s; font-size: 14px; height: 22px; margin: 0 5px;">
                <span style="font-size: 1em;"></span>
                <span>Instagram</span>
            </a>
            <a href="https://www.facebook.com/Rahman.Wahyu.Aj1" target="_blank" style="display: inline-flex; align-items: center; gap: 3px; padding: 5px 8px; background: linear-gradient(45deg, #1877F2, #42A5F5); color: white; text-decoration: none; border-radius: 8px; font-weight: 500; border: 1px solid rgba(255,255,255,0.10); min-width: 50px; justify-content: center; transition: all 0.3s; font-size: 14px; height: 22px; margin: 0 5px;">
                <span style="font-size: 1em;"></span>
                <span>Facebook</span>
            </a>
            <a href="https://github.com/rahmanwahyuaji" target="_blank" style="display: inline-flex; align-items: center; gap: 3px; padding: 5px 8px; background: linear-gradient(45deg, #333, #6e5494); color: white; text-decoration: none; border-radius: 8px; font-weight: 500; border: 1px solid rgba(255,255,255,0.10); min-width: 50px; justify-content: center; transition: all 0.3s; font-size: 14px; height: 22px; margin: 0 5px;">
                <span style="font-size: 1em;"></span>
                <span>GitHub</span>
            </a>
            <span style="display: inline-flex; align-items: center; gap: 3px; padding: 5px 8px; background: linear-gradient(45deg, #5865F2, #404EED); color: white; border-radius: 8px; font-weight: 500; border: 1px solid rgba(255,255,255,0.10); min-width: 50px; justify-content: center; transition: all 0.3s; font-size: 14px; height: 22px; margin: 0 5px;">
                <span style="font-size: 1em;"></span>
                <span>Discord: <b>@rw_aji</b></span>
            </span>
        </div>
    </div>
    
    <script src="assets/js/config.js"></script>
    <script src="assets/js/includeProcessor.js"></script>
    <script src="assets/js/state.js"></script>
    <script src="assets/js/parser.js"></script>
    <script src="assets/js/generator.js"></script>
    <script src="assets/js/animation.js"></script>
    <script src="assets/js/biasPreview.js"></script>
    <script src="assets/js/ui.js"></script>
    <script src="assets/js/editor.js"></script>
    <script src="assets/js/fileManager.js"></script>
    <script src="assets/js/analytics.js"></script>
    <script src="assets/js/main.js"></script>

    <script>
        // Show Dana donation info using custom modal
        function showDanaInfo() {
            if (document.getElementById('danaModal')) return;
            const alertHtml = `
                <div id="danaModal" style="
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.8);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 9999;
                ">
                    <div style="
                        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
                        border-radius: 15px;
                        padding: 30px;
                        max-width: 400px;
                        width: 90%;
                        text-align: center;
                        border: 2px solid rgba(255, 215, 0, 0.3);
                        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
                    ">
                        <div style="font-size: 48px; margin-bottom: 15px;">💰</div>
                        <h3 style="color: #FFD700; margin-bottom: 15px;">Donasi via Dana</h3>
                        <div style="background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 10px; margin: 15px 0;">
                            <p style="font-size: 18px; font-weight: bold; color: #FFD700; margin-bottom: 5px;">085155102275</p>
                            <p style="opacity: 0.8;">a.n: Rahman Wahyu Aji</p>
                        </div>
                        <p style="opacity: 0.9; margin-bottom: 20px;">Terima kasih atas dukungan Anda! 🙏</p>
                        <button onclick="closeDanaModal()" style="
                            background: #FFD700;
                            color: #1e3c72;
                            border: none;
                            padding: 10px 25px;
                            border-radius: 25px;
                            font-weight: bold;
                            cursor: pointer;
                            transition: all 0.3s ease;
                        ">OK</button>
                    </div>
                </div>
            `;
            document.body.insertAdjacentHTML('beforeend', alertHtml);
        }
        function closeDanaModal() {
            const modal = document.getElementById('danaModal');
            if (modal) modal.remove();
        }
    </script>
</body>
</html>
